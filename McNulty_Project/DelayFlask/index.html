<html>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<body>
<h1>This is a box</h1>
<textarea id="the_text"></textarea>
There are <span id="num_words">0</span> words in the textbox.
</body>

<script>

$('#the_text').keyup( () => {
  javascript_count()
})

function javascript_count(){
    $.ajax({
        type: "POST",
        contentType: "application/json; charset=utf-8",
        url: "/bobby_tables",  // Replace with URL of POST handler
        dataType: "json",
        async: true,
        data: JSON.stringify({'text':$('#the_text').val()}),
        success: (result) => {
          let num_words = result['num_words'];
          console.log(num_words);
          $('#num_words').html(num_words)
        },
        error: (result) => {
          console.log("Didn't work, bozo");
        }
      })
}
</script>


</html>

